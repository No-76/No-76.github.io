---
tittle: 短链接
icon: pen-to-square
date: 2024-12-8
category:
  - Java
  - SpringBoot
  - 项目
timeline: true
tag:
  - Java
  - SpringBoot
---
# 短链接
段短短
<!-- more -->    

## 短链接后管系统  

**什么时候分库分表**  
  

分库主要分为垂直模式和水平模式，垂直模式根据业务将数据库拆分为多个数据库，水平模式将相同业务数据库分为多个数据库。  
分表主要分为垂直分表和水平分表，垂直分表根据根据业务维度划分，将不常用的信息放在拓展表中，水平分表根据业务数据量划分，将数据量较大的表分表。  

什么场景下分表？  
- 数据量过大或者数据库表对应的磁盘文件过大。  
- Q：多少数据分表？ 

什么情况下分库？  
- 连接不够用。  
- MySQL Server 假设支持 4000 个数据库连接。一个服务连接池最大 10 个，假设有 40 个节点。已经占用了 400 个数据库连接。类似于这种服务，有10个，那你这个 MySQL Server 连接就不够了。  
- 一般情况下做读写分离就够了。分库需要复杂的中间件。  

又分库又分表？  
- 高并发写入或查询场景。  
- 数据量巨大场景。 
- ShardingSphere分库分表框架。 
