import{_ as l}from"./image-7-D2IAFFCa.js";import{_ as a,c as r,a as e,b as o,d as i,o as n}from"./app-GqyZQ9VE.js";const s="/assets/image-4-BDtOrmrJ.png",p="/assets/image-5-BRN3vtFy.png",m="/assets/image-6-EmBoJljm.png",c={};function g(d,t){return n(),r("div",null,[t[0]||(t[0]=e("h1",{id:"jvm",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#jvm"},[e("span",null,"JVM")])],-1)),t[1]||(t[1]=e("p",null,"JVM主要包含以下三大功能：",-1)),t[2]||(t[2]=e("ul",null,[e("li",null,"解释运行"),e("li",null,"内存管理"),e("li",null,"即时编译")],-1)),o(" more "),t[3]||(t[3]=i('<h2 id="类加载器" tabindex="-1"><a class="header-anchor" href="#类加载器"><span>类加载器</span></a></h2><h3 id="类的生命周期" tabindex="-1"><a class="header-anchor" href="#类的生命周期"><span>类的生命周期</span></a></h3><p>总共分为5个阶段：加载、连接、初始化、使用、卸载。而连接的过程又可以分为三个阶段：验证、准备、解析。</p><ol><li>加载阶段： 类加载器在加载完类后，java虚拟机会将字节码中的信息(基本信息,常量池,字段,方法)保存在内存的方法区中,生成一个InstanceKlass对象(使用c++),保存类的所有信息,还包含多态信息. 同时,在堆中生成一份与方法区中数据类似的java.long.Class对象(使用java),作用是获取类的信息以及存储静态字段的信息。<br> 复制到堆的优点:只复制开发者可以访问的数据,更加安全。</li></ol><h2 id="垃圾回收" tabindex="-1"><a class="header-anchor" href="#垃圾回收"><span>垃圾回收</span></a></h2><p>在Java中，垃圾回收器（ Garbage Collector）负责回收不再使用的对象。垃圾回收器是一个后台线程。</p><ol><li>可达性分析：通过一系列成为&quot;GC Roots&quot;的对象开始，通过引用链找到所有可以访问到的对象。GC ROOTS包含：</li></ol><ul><li>栈中引用的对象</li><li>方法区中静态属性引用的对象</li><li>方法区中常量引用的对象</li><li>本地方法栈JNI 引用的对象</li></ul><ol start="2"><li>回收算法：</li></ol><p><strong>标记-清除算法</strong>：产生大量内存碎片。<br><strong>标记-整理算法</strong>：无内存碎片。<br><strong>复制算法</strong>：将内存分为两块，每次只使用一块，当这一块用完，反复复制实现去除碎片。<br><strong>分代垃圾回收</strong>：分为新生代和老年代，新生代包含eden、survivor(包括from和to区)。</p><ul><li>Minor GC:也称为新生代GC，是针对新生代survivor区的垃圾回收。<strong>采用复制算法</strong>，开始全部放在伊甸区，存活下来进入form区并且年龄不断增大，from区被回收的进入to区等待下次垃圾回收，再回到from区(from和to来回互换，总比例8：1：1)。回收后进入老年区。</li><li>Full GC:也称为Major GC或老年代GC，是针对整个内存的垃圾回收。当老年代、元空间或者堆空间满时触发。<strong>采用标记-整理算法</strong>。</li></ul><ol start="3"><li>垃圾收集器：</li></ol><ul><li>Serial：最基本的收集器，单线程，回收效率高，需要STW。<br><img src="'+s+'" alt="alt text" loading="lazy"></li><li>ParNew：基于Serial的并行收集器，多线程，但需要STW。适合多cpu(单cpu线程切换需要开销)<br><img src="'+p+'" alt="alt text" loading="lazy"><br><strong>老年代也能并行，别的收集器</strong></li><li>CMS：Concurrent Mark Sweep，并发标记-清除算法，分为四步：1.初始标记（仅仅标记GC ROOT关联的）--&gt;2.并发标记---&gt;3.并发清除---&gt;4.并发复制。只有初始标记和并发标记需要STW。缺点：并发清除阶段垃圾无法清除产生浮动垃圾(浮动垃圾过多时候需要采用备胎Serial)，大量垃圾碎片。<br><img src="'+m+'" alt="alt text" loading="lazy"></li><li>G1：Garbage Fisrt，默认的垃圾收集器。化整为零，将内存化为上千个部分，采用分代回收，灵活分配。<br><img src="'+l+'" alt="alt text" loading="lazy"></li></ul>',13))])}const y=a(c,[["render",g],["__file","JVM.html.vue"]]),M=JSON.parse('{"path":"/java%E7%AC%94%E8%AE%B0/JVM.html","title":"JVM","lang":"zh-CN","frontmatter":{"tittle":"java","icon":"pen-to-square","date":"2024-11-30T00:00:00.000Z","category":["JVM"],"timeline":true,"tag":["JVM","垃圾回收","内存泄漏"],"description":"JVM主要包含以下三大功能： 解释运行 内存管理 即时编译","head":[["meta",{"property":"og:url","content":"https://github.com/No-76/java%E7%AC%94%E8%AE%B0/JVM.html"}],["meta",{"property":"og:site_name","content":"Lzy"}],["meta",{"property":"og:title","content":"JVM"}],["meta",{"property":"og:description","content":"JVM主要包含以下三大功能： 解释运行 内存管理 即时编译"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-11-30T12:52:34.000Z"}],["meta",{"property":"article:tag","content":"JVM"}],["meta",{"property":"article:tag","content":"垃圾回收"}],["meta",{"property":"article:tag","content":"内存泄漏"}],["meta",{"property":"article:published_time","content":"2024-11-30T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-11-30T12:52:34.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"JVM\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-11-30T00:00:00.000Z\\",\\"dateModified\\":\\"2024-11-30T12:52:34.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Lzy\\",\\"url\\":\\"https://github.com/No-76\\"}]}"]]},"headers":[{"level":2,"title":"类加载器","slug":"类加载器","link":"#类加载器","children":[{"level":3,"title":"类的生命周期","slug":"类的生命周期","link":"#类的生命周期","children":[]}]},{"level":2,"title":"垃圾回收","slug":"垃圾回收","link":"#垃圾回收","children":[]}],"git":{"createdTime":1732722474000,"updatedTime":1732971154000,"contributors":[{"name":"GSpotMan","email":"964600114@qq.com","commits":3}]},"readingTime":{"minutes":2.73,"words":819},"filePathRelative":"java笔记/JVM.md","localizedDate":"2024年11月30日","excerpt":"\\n<p>JVM主要包含以下三大功能：</p>\\n<ul>\\n<li>解释运行</li>\\n<li>内存管理</li>\\n<li>即时编译</li>\\n</ul>\\n","autoDesc":true}');export{y as comp,M as data};
